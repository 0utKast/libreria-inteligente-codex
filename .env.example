# Clave de API para el modelo de Google Gemini
GEMINI_API_KEY="TU_API_KEY_DE_GEMINI_AQUI"

# Orígenes permitidos para CORS (separados por coma)
# Añade aquí tu IP local si accedes desde móvil, p.ej. http://192.168.1.20:3000
ALLOW_ORIGINS="http://localhost:3000,http://127.0.0.1:3000"

# Puertos del frontend permitidos para CORS (CSV). Se usan para construir el regex por defecto.
# Incluye puertos comunes: 3000 (CRA), 5173 (Vite), 8080 (varios)
FRONTEND_PORTS="3000,5173,8080"

# Regex opcional para permitir orígenes completos sin fijar IP (sobrescribe el generado por defecto)
# Por defecto permite HTTP y HTTPS, localhost/127.0.0.1 y rangos privados (10.x, 192.168.x, 172.16-31)
# en los puertos definidos en FRONTEND_PORTS.
# ALLOW_ORIGIN_REGEX="^https?://(localhost|127\\.0\\.0\\.1|10\\.\\d+\\.\\d+\\.\\d+|192\\.168\\.\\d+\\.\\d+|172\\.(1[6-9]|2\\d|3[0-1])\\.\\d+\\.\\d+):(3000|5173|8080)$"

# Ruta del índice persistente de ChromaDB para RAG
CHROMA_PATH="./rag_index"

# Flags opcionales
# Establece DISABLE_AI=1 para desactivar Gemini (útil en CI/tests)
# DISABLE_AI="0"
# Establece DEBUG_GEMINI=1 para imprimir respuestas sin procesar de Gemini en logs (solo debug)
# DEBUG_GEMINI="0"

# Estimación de coste (opcional):
# Define el coste por 1000 tokens de embeddings para estimar gasto en /rag/estimate (puedes pasarlo también por query param `per1k`)
# EMBEDDING_COST_PER_1K="0.0001"

# ==============================
# Modelos de Gemini (configurable)
# ==============================
# Nota: Para Gemini 2.5 no hay alias "-latest". Usa nombres explícitos.

# Modelo de análisis principal (extracción título/autor/categoría)
# Ejemplos: gemini-2.5-flash | gemini-2.5-pro
GEMINI_MODEL_MAIN="gemini-2.5-flash"

# Modelo de generación para RAG (google.generativeai)
# Si usas el prefijo "models/" mantenlo también aquí.
# Ejemplos: models/gemini-2.5-flash | models/gemini-2.5-pro
GEMINI_GENERATION_MODEL="models/gemini-2.5-flash"

# Modelo de embeddings
# Recomendado: models/text-embedding-004
GEMINI_EMBEDDING_MODEL="models/text-embedding-004"

# Modelo para scripts de documentación
# Ejemplos: gemini-2.5-flash | gemini-2.5-pro
GEMINI_MODEL_DOCS="gemini-2.5-flash"

# Modelo para scripts de generación de tests
# Ejemplos: gemini-2.5-flash | gemini-2.5-pro
GEMINI_MODEL_TESTS="gemini-2.5-flash"

# Modelo para automatizaciones (triage de issues y review de PR) con cliente google.genai
# Ejemplos: gemini-2.5-pro | gemini-2.5-flash
GEMINI_MODEL_AUTOMATIONS="gemini-2.5-pro"
